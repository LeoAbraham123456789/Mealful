{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { default as React, useEffect, useRef, useState } from 'react';\nimport { getDate, getMonth, getYear } from 'date-fns';\nimport { Unit } from './types';\nimport { daysInMonth, getCappedUnits, isValid } from './utils/date';\nexport var BASE_CLASS = 'react-date-inputs';\nvar DefaultInputComponent = React.forwardRef(function (props, ref) {\n  return React.createElement(\"input\", __assign({}, props, {\n    ref: ref\n  }));\n});\nDefaultInputComponent.displayName = 'DefaultInputComponent';\nvar DefaultLabelComponent = function (props) {\n  return React.createElement(\"label\", __assign({}, props));\n};\nexport var DateInputs = function (_a) {\n  var _b, _c, _d;\n  var value = _a.value,\n    onChange = _a.onChange,\n    onBlur = _a.onBlur,\n    _e = _a.dayPlaceholder,\n    dayPlaceholder = _e === void 0 ? 'DD' : _e,\n    _f = _a.monthPlaceholder,\n    monthPlaceholder = _f === void 0 ? 'MM' : _f,\n    _g = _a.yearPlaceholder,\n    yearPlaceholder = _g === void 0 ? 'YYYY' : _g,\n    className = _a.className,\n    label = _a.label,\n    _h = _a.disabled,\n    disabled = _h === void 0 ? false : _h,\n    _j = _a.inputComponent,\n    InputComponent = _j === void 0 ? DefaultInputComponent : _j,\n    _k = _a.labelComponent,\n    LabelComponent = _k === void 0 ? DefaultLabelComponent : _k,\n    _l = _a.inputComponentProps,\n    inputComponentProps = _l === void 0 ? {} : _l,\n    _m = _a.labelComponentProps,\n    labelComponentProps = _m === void 0 ? {} : _m,\n    _o = _a.show,\n    show = _o === void 0 ? ['day', 'month', 'year'] : _o,\n    _p = _a.autoTab,\n    autoTab = _p === void 0 ? false : _p;\n  var dayInputRef = useRef(null);\n  var monthInputRef = useRef(null);\n  var yearInputRef = useRef(null);\n  var refs = (_b = {}, _b[Unit.day] = dayInputRef, _b[Unit.month] = monthInputRef, _b[Unit.year] = yearInputRef, _b);\n  var placeholders = (_c = {}, _c[Unit.day] = dayPlaceholder, _c[Unit.month] = monthPlaceholder, _c[Unit.year] = yearPlaceholder, _c);\n  var _q = useState((_d = {}, _d[Unit.day] = getDate(value) || undefined, _d[Unit.month] = getMonth(value) + 1 || undefined, _d[Unit.year] = getYear(value) || undefined, _d)),\n    parsedValues = _q[0],\n    setParsedValues = _q[1];\n  useEffect(function () {\n    var _a = parsedValues.day,\n      day = _a === void 0 ? show.includes(Unit.day) ? undefined : 1 : _a,\n      _b = parsedValues.month,\n      month = _b === void 0 ? show.includes(Unit.month) ? undefined : 1 : _b,\n      _c = parsedValues.year,\n      year = _c === void 0 ? show.includes(Unit.year) ? undefined : 2020 : _c;\n    var isInitial = day === getDate(value) && month === getMonth(value) + 1 && year === getYear(value);\n    if (onChange && !isInitial) {\n      if (day === undefined || month === undefined || year === undefined) {\n        onChange(undefined);\n      } else if (isValid(day, month, year) && year.toString().length === 4) {\n        onChange(new Date(year, month - 1, day));\n      } else {\n        onChange(undefined);\n      }\n    }\n  }, [parsedValues]);\n  var handleAutoFocus = function (_a, unit) {\n    var _b;\n    var day = _a.day,\n      month = _a.month,\n      year = _a.year;\n    var maxDays = month ? daysInMonth(month, year) : 31;\n    var currentIndex = show.indexOf(unit);\n    var nextUnit = show[currentIndex + 1];\n    if (!nextUnit) return;\n    var goToNext = unit === Unit.day && parseInt(day + '1', 10) > maxDays || unit === Unit.month && parseInt(month + '1', 10) > 12 || unit === Unit.year && (year === null || year === void 0 ? void 0 : year.toString().length) === 4;\n    if (goToNext) (_b = refs[nextUnit].current) === null || _b === void 0 ? void 0 : _b.select();\n  };\n  var handleChange = function (e, unit) {\n    var _a;\n    var val = parseInt(e.target.value, 10);\n    var newUnitValue = val >= 0 ? val : undefined;\n    var newParsedValues = __assign(__assign({}, parsedValues), (_a = {}, _a[unit] = newUnitValue, _a));\n    var cappedValues = getCappedUnits(newParsedValues);\n    if (autoTab) handleAutoFocus(newParsedValues, unit);\n    setParsedValues(cappedValues);\n  };\n  var handleGroupBlur = function (e) {\n    var currentTarget = e.currentTarget;\n    setTimeout(function () {\n      if (!currentTarget.contains(document.activeElement)) onBlur && onBlur(e);\n    }, 0);\n  };\n  return React.createElement(\"div\", {\n    className: \"\".concat(BASE_CLASS).concat(className ? \" \".concat(className) : ''),\n    \"data-testid\": BASE_CLASS\n  }, label && React.createElement(LabelComponent, __assign({\n    className: \"\".concat(BASE_CLASS, \"__label\"),\n    \"data-testid\": \"\".concat(BASE_CLASS, \"__label\")\n  }, labelComponentProps), label), React.createElement(\"div\", {\n    onBlur: handleGroupBlur,\n    className: \"\".concat(BASE_CLASS, \"__inputs-wrapper\"),\n    \"data-testid\": \"\".concat(BASE_CLASS, \"__inputs-wrapper\")\n  }, show.map(function (unit) {\n    var _a;\n    return React.createElement(InputComponent, __assign({\n      type: \"text\",\n      pattern: \"[0-9]*\",\n      key: unit,\n      placeholder: placeholders[unit],\n      onChange: function (e) {\n        return handleChange(e, unit);\n      },\n      value: (_a = parsedValues[unit]) !== null && _a !== void 0 ? _a : '',\n      className: \"\".concat(BASE_CLASS, \"__\").concat(unit),\n      \"data-testid\": \"\".concat(BASE_CLASS, \"__\").concat(unit),\n      ref: refs[unit],\n      disabled: disabled,\n      maxLength: unit == Unit.year ? '4' : '2'\n    }, inputComponentProps));\n  })));\n};\nexport default DateInputs;","map":{"version":3,"names":["default","React","useEffect","useRef","useState","getDate","getMonth","getYear","Unit","daysInMonth","getCappedUnits","isValid","BASE_CLASS","DefaultInputComponent","forwardRef","props","ref","createElement","__assign","displayName","DefaultLabelComponent","DateInputs","_a","value","onChange","onBlur","_e","dayPlaceholder","_f","monthPlaceholder","_g","yearPlaceholder","className","label","_h","disabled","_j","inputComponent","InputComponent","_k","labelComponent","LabelComponent","_l","inputComponentProps","_m","labelComponentProps","_o","show","_p","autoTab","dayInputRef","monthInputRef","yearInputRef","refs","_b","day","month","year","placeholders","_c","_q","_d","undefined","parsedValues","setParsedValues","includes","isInitial","toString","length","Date","handleAutoFocus","unit","maxDays","currentIndex","indexOf","nextUnit","goToNext","parseInt","current","select","handleChange","e","val","target","newUnitValue","newParsedValues","cappedValues","handleGroupBlur","currentTarget","setTimeout","contains","document","activeElement","concat","map","type","pattern","key","placeholder","maxLength"],"sources":["../src/index.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}